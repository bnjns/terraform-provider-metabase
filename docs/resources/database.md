---
page_title: "Resource: metabase_database"
subcategory: "Databases"
description: |-
      Allows you to manage a database configuration
---

# Resource: metabase_database

Metabase supports [many database engines](https://www.metabase.com/learn/databases/types-of-databases); each engine
requires its own configuration which should be provided as json-encoded string in the `details` or `details_secure`
attributes. While this provider should allow you to use any engine officially supported by Metabase, it does attempt to
validate required attributes for known engines.

!> **Warning:** It is not recommended that you hardcode any settings you include in the `details_secure` attribute, as this risks secret leakage.

## Example Usage

```terraform
resource "metabase_database" "example" {
  engine = "h2"
  name   = "H2 database"

  details = jsonencode({
    db = "zip:/app/metabase.jar!/sample-database.db;USER=GUEST;PASSWORD=guest"
  })

  schedules = {
    metadata_sync = {
      type   = "hourly"
      minute = 50
    }
  }
}
```

## Supported Engines

### H2

```terraform
resource "metabase_database" "example" {
  engine = "h2"
  name   = "H2 database"

  details = jsonencode({
    db = "/path/to/database/file.db;USER=username;PASSWORD=password"
  })
}
```

### PostgreSQL

```terraform
resource "metabase_database" "example" {
  engine = "postgres"
  name   = "PostgreSQL database"

  details = jsonencode({
    host     = "localhost"
    port     = 5432
    dbname   = "database"
    username = "postgres"
  })
  details_secure = jsonencode({
    password = "password"
  })
}
```


<!-- schema generated by tfplugindocs -->
## Schema

### Required

- `engine` (String) The engine type of the database.
- `name` (String) The name of the database.

### Optional

- `details` (String) Serialised JSON string containing the configuration options for the database engine. Use `details_secure` for any sensitive configuration details (eg, password).
- `details_secure` (String, Sensitive) Serialised JSON string containing any sensitive configuration options for the database engine.
- `schedules` (Map of Object) The schedules used to sync the database. (see [below for nested schema](#nestedatt--schedules))

### Read-Only

- `features` (List of String) The features this database engine supports.
- `id` (Number) The ID of the database.

<a id="nestedatt--schedules"></a>
### Nested Schema for `schedules`

Optional:

- `day` (String)
- `frame` (String)
- `hour` (Number)
- `minute` (Number)
- `type` (String)

## Import

You can import existing resources using the database ID:

{{codefile "shell" "examples/resources/metabase_database/import.sh"}}

!> **Warning:** Sensitive details are redacted and so cannot be imported into state. Once the database has been imported, you will need to apply in order to sync the `details_secure` attribute.
